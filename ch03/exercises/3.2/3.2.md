# 3.2节的习题

#### (1)

为正则表达式的语法编写一种上下文无关语法

#### 解答

这里只用了正则表达式语法的子集

支持

- 数量限定词: *, +, ?

- 选择: |
- 分组：()

```
P → P | P
  | P P
  | (P) Q
  | A
  
A → A B Q
  → B
  
Q → *
  | ?
  | +
  | ε

B → B char
   | B [S]
   | char
   | [S]
   
S → S char
  → char
  
```

对比了下网上找到的答案[CS310 – Compilers and Interpreters](http://courses.knox.edu/cs310/hw2_sol.pdf)中第一题, 发现它的语法无法满足

如下正则

- ab[ab]
- ((a)<sup>+</sup>(b)<sup>+</sup>))<sup>+</sup>

明显也是只写了正则表达式的语法子集

#### (2)

为上下文无关语法的符号表示法巴科斯-瑙尔范式(BNF)编写一种上下文无关语法

#### 解答

书中P64对BNF的描述: "终结符带有下划线"，这里改为用双引号表示

```
S → <word> := P
P → P | A
  | A
A → A "word"
  | A <word>
  | "word"
  | <word>
```

#### (3)

在一次考试中被问到无歧义上下文无关语法的定义时，两个学生给出了不同的答案。一名学生将其定义为: "一种语法，每个句子通过最左推导能得到唯一的语法树"。另一名学生将其定义为: "一种语法，每个句子通过任何推导都能得到唯一的语法树"。哪个定义是正确的？

#### 解答

"一种语法，每个句子通过最左推导能得到唯一的语法树"是正确的定义。

书中P67

> 在CFG定义的语言中，每个语句都有唯一的最右(或最左)推导。
>
> 如果在某个语法中，一个语句存在多个最右(或最左)推导，则该语法成为二义性语法。
